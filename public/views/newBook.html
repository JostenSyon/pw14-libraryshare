<h1>Inserisci libro</h1>
<!-- Il testo introduttivo viene impostato in JS perché dipende dal profilo utente -->
<p id="bookNewIntro" class="muted mb-12"></p>

<form id="bookLookupForm" class="form max-w-820">
  <div class="lookup-inline">
    <label class="form__label">
      Cerca libro
      <input id="bookLookup" class="form__input" placeholder="ISBN, titolo, autore o editore" required />
    </label>
    <button type="submit" class="btn btn--primary">Cerca</button>
  </div>
  <small class="muted">Suggerimento: puoi cercare anche testo libero, es. "signore degli anelli bompiani".</small>
</form>

<div id="lookupResult" class="max-w-820 mt-12"></div>

<!-- Nascosto finché la ricerca ISBN non fallisce e l'utente può creare nuovi libri -->
<div id="createBookWrap" class="hidden max-w-820 mt-12">
  <div class="card mb-12">
    <div class="card__meta">Libro non trovato. Compila i campi minimi per crearlo.</div>
    <div class="card__meta mt-10">Nota: la creazione richiede di essere un utente autorizzato</div>
  </div>

  <form id="createBookForm" class="form">
    <label class="form__label">
      ISBN
      <input id="bookIsbn" class="form__input" required />
    </label>

    <label class="form__label">
      Titolo
      <input id="bookTitle" class="form__input" required />
    </label>

    <label class="form__label">
      Descrizione (opzionale)
      <textarea id="bookDescription" class="form__input" rows="4" placeholder="Breve descrizione del libro"></textarea>
    </label>

    <label class="form__label">
      Anno edizione
      <input id="bookYear" class="form__input" type="number" min="0" placeholder="2013" required />
    </label>

    <label class="form__label">
      Pagine
      <input id="bookPages" class="form__input" type="number" min="0" placeholder="320" required />
    </label>

    <label class="form__label">
      Prezzo copertina
      <input id="bookPrice" class="form__input" type="number" step="0.01" min="0" placeholder="15.00" required />
    </label>

    <label class="form__label">
      Genere
      <select id="bookGenreId" class="form__input" required>
        <option value="" selected>Seleziona un genere...</option>
      </select>
    </label>

    <label class="form__label label-relative">
      Editore
      <input id="bookPublisher" class="form__input" placeholder="Bompiani" required />
      <div id="publisherSuggest" class="suggest hidden"></div>
    </label>

    <label class="form__label label-relative">
      Autori (separati da virgola)
      <input id="bookAuthors" class="form__input" placeholder="J. R. R. Tolkien" required />
      <div id="authorSuggest" class="suggest hidden"></div>
    </label>

    <label class="form__label">
      Copertina (opzionale)
      <input id="bookCover" class="form__input" type="file" accept="image/*" />
      <small class="card__meta mt-6">Formati consigliati: JPG/PNG/WEBP (max 5MB).</small>
      <div id="coverPreview" class="hidden mt-10">
        <img id="coverPreviewImg" alt="Anteprima copertina" />
      </div>
    </label>

    <div id="createBookStatus" class="card__meta hidden mt-10"></div>
    <div id="createBookError" class="form__error hidden"></div>

    <div class="form__actions">
      <button type="submit" class="btn btn--primary">Crea libro</button>
    </div>
  </form>
</div>
